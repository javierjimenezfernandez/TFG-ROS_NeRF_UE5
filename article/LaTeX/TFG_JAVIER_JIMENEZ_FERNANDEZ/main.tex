% Editor de fórmulas matemáticas
%https://www.codecogs.com/latex/eqneditor.php?lang=es-es

%%%%%%%%%%%%%%%%% - PREÁMBULO - %%%%%%%%%%%%%%%%%


% ---------- Metadatos del documento ----------- %
\title{Digital Twins con control telemático inmersivo mediante el uso de realidad virtual generada por NeRF y 3DGS en tareas de rescate}
\author{Javier Jiménez Fernández}
\date{Septiembre 2024}
% ---------------------------------------------- %


% --------- Composición de la página ---------- %
% Para el texto escrito se utilizará siempre hojas blancas de tamaño A4 (297 x 210 mm) que estarán escritas, preferentemente, por las dos caras. Existen numerosas fuentes válidas aunque se recomienda utilizar “Arial” (tamaño 11 puntos) o “Times New Roman” (tamaño 12 puntos).
\documentclass[a4paper, 12pt, spanish, twoside]{article}
% Los márgenes tanto derecho, como izquierdo, superior e inferior serán de 25 mm.
\usepackage[top=2.5cm,bottom=2.5cm,left=2.5cm,right=2.5cm]{geometry}
\raggedbottom
% ---------------------------------------------- %



% ------------- Paquetes generales ------------- %
\usepackage[utf8]{inputenc}
\usepackage[spanish,es-tabla]{babel}
\usepackage{float}
\usepackage{caption}
% ---------------------------------------------- %



% ------------ Paquetes específicos ------------ %
\usepackage{pdfpages} % Para insertar la portada en formato PDF.
\usepackage{pdflscape}  % Para colocar páginas en formato apaisado.
\usepackage{graphicx} % Para insertar imágenes.
\graphicspath{{imagenes/}} % Configuración del paquete graphicx, imágenes en la carpeta images
\usepackage{wrapfig} % Para posicionar imágenes alrededor del texto.
\usepackage[hidelinks]{hyperref} % Para urls.
% ---------------------------------------------- %



% ---------------- Numeración ------------------ %
\counterwithin{table}{section} % Se numeran las tablas con respecto al capítulo en el que se encuentran.
\counterwithin{figure}{section} % Se numeran las figuras con respecto al capítulo en el que se encuentran.
\counterwithin{equation}{section} % Se numeran las ecuaciones con respecto al capítulo en el que se encuentran.
% ---------------------------------------------- %



% ------------- Página en blanco ----------------%
% Se define un comando (\blankpage) para insertar una página totalmente en blanco (sin número de página, encabezado y pie de página):
\usepackage{afterpage}
\newcommand\blankpage{%
    \null
    \thispagestyle{empty}%
    \newpage}
% ---------------------------------------------- %



% ----------- Formato de los párrafos -----------%
% El interlineado recomendado es el sencillo, con renglón libre entre párrafos. El texto debe ser justificado en ambos márgenes, de manera que quede constante la longitud de cada línea del párrafo.
% Se define el formato de los párrafos:
\setlength{\parindent}{0pt} % Se elimina la sangría en comienzo de párrafo (0pt).
\setlength{\parskip}{1em} % Se define el espacio entre dos párrafos (1em).
% ---------------------------------------------- % 



% ---------- Leyendas y pies de foto ----------- %
\captionsetup{justification=centering} % Justificación de las leyendas y pies de foto
% ---------------------------------------------- %



% -------------- Título adicional -------------- %
% Se añade una profundidad adicional a los títulos (profundidad 4):
\usepackage{titlesec}
\setcounter{secnumdepth}{4} % Se fija en 4 la profundidad de numeración de títulos.
\setcounter{tocdepth}{4} % Se fija en 4 la profundidad de títulos incluidos en el índice.
% Se modifica el formato de \paragraph (título de profundidad 4) para adaptarlo al formato del resto de títulos:
\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex} 
% ---------------------------------------------- %  



% --------- Encabezado y pie de página -------- %
% Es conveniente la utilización de encabezados y pies de páginas que proporcionen información auxiliar para la mejor lectura y compresión del proyecto, separados del cuerpo del texto por una línea continua y a 15 mm de los márgenes superior e inferior. A título orientativo, en las páginas pares se incluirá en el encabezamiento y justificado a la izquierda el apartado correspondiente (p.ej. Resultados) y en el pie se indicará justificado a la izquierda el número de página y justificado a la derecha “Escuela Técnica Superior de Ingenieros Industriales (UPM)”. En las páginas impares en el encabezamiento figurará justificado a la derecha el título entero del TFG o TFM o un título abreviado para que no exceda de una línea y en el pie se indicará justificado a la izquierda el nombre y apellidos del alumno y justificado a la derecha el número de página.
% El encabezado y pie de página forman parte del paquete fancyhdr:
\usepackage{fancyhdr}
\fancyhf{}
\pagestyle{fancy}

% Se ajusta el tamaño de fuente para el encabezado y pie de página (9pt)
\fancyhf{\fontsize{2}{12}\selectfont}

% Contenido del encabezado (\fancyhead):
\fancyhead[RO]{Digital Twins, control telemático y RV generada por NeRF y 3DGS en tareas de rescate} % Texto que se coloca en el encabezado de las páginas impares (O -> 'Odd', o impar) a la izquierda (R -> 'Odd')
\fancyhead[LE]{\nouppercase{\rightmark}} % Texto que se coloca en el encabezado de las páginas pares (E -> 'Even', o par) a la izquierda (L -> 'Left'). \rightmark se utiliza para insertar automáticamente el título de la sección correspondiente, y \nouppercase para que no aparezca todo en mayúsculas (formato por defecto de \rightmark).

% Contenido del pie de página (\fancyfoot):
\fancyfoot[RE]{Escuela  Técnica  Superior  de  Ingenieros  Industriales  (UPM)} % Texto que se coloca en el pie de página de las páginas pares (E -> 'Even', o par) a la derecha (R -> 'Right')
\fancyfoot[LO]{Javier Jiménez Fernández} % Texto que se coloca en el pie de página de las páginas impares (O -> 'Odd', o impar) a la izquierda (L -> 'Left')
\fancyfoot[LE,RO]{\thepage} % El número de página (\thepage) se coloca a la izquierda en las páginas pares y a la derecha en las impares.

% Se indica que sólo se quiere incorporar en \rightmark (utilizado más arriba) el título de la sección (y no de las subsecciones, subsubsecciones, etc.):
\renewcommand{\sectionmark}[1]{\markright{\thesection. #1}}
\renewcommand{\subsectionmark}[1]{}

% Formato de la línea de separación horizontal:
\renewcommand{\headrulewidth}{0.5pt} % Ancho de la línea del encabezado.
\renewcommand{\footrulewidth}{0.5pt} % Ancho de la línea del pie de página.
% ---------------------------------------------- % 



% ----------- Fragmentos de código ------------- %
% El paquete utilizado para insertar fragmentos de código en el documento es listings. En el presente bloque del preámbulo se definen ciertos parámetros de listings con el objetivo de adaptar dicho paquete a código escrito en Python.

\usepackage{listings} % Paquete para insertar código. 
\usepackage{xcolor} % Paquete para definir colores.

% Se definen los distintos colores que se utilizan para resaltar ciertos elementos del código:
\definecolor{codegreen}{rgb}{0.04314,0.6745,0.07843} % Verde.
\definecolor{codegray}{rgb}{0.5,0.5,0.5} % Gris.
\definecolor{codered}{rgb}{0.5373,0.02745,0.06275} % Rojo.
\definecolor{codeblue}{rgb}{0.071,0.0258,0.9882} % Azul.
\definecolor{codepurple}{rgb}{0.6,0.02745,0.5961} % Morado.

% Se define el color de fondo:
\definecolor{backcolour}{rgb}{0.95,0.95,0.92} % Gris oscuro.

% Se define el valor de ciertos parámetros de listings para adaptar dicho paquete a código escrito en Python:
\lstdefinestyle{mystyle}{
    % - General:
    language=C++, % Lenguaje de programación.
    basicstyle=\ttfamily\footnotesize, % Tipografía y tamaño de fuente.
    % - Colores de los distintos elementos del código:
    backgroundcolor=\color{backcolour}, % Color de fondo.  
    commentstyle=\color{codegray}, % Color de los comentarios.
    keywordstyle=\color{codeblue}, % Color de las palabras clave por defecto.
    stringstyle=\color{codegreen}, % Color de los "string"
    % - Palabras clave:
    deletekeywords={print}, % Se elimina "print" del conjunto de palabras clave para posteriormente asignarle el color morado.
    keywordstyle={[2]\ttfamily\color{codeblue}},
    keywords=[2]{as}, % Se añaden las palabras clave de color azul.
    keywordstyle={[3]\ttfamily\color{codepurple}},
    keywords=[3]{True, False, ttk, list, None, dict, zip, range, len, print, float, sum}, % Se añaden las palabras clave de color morado.
    keywordstyle={[4]\bfseries\ttfamily},
    keywords=[4]{_read_excel}, % Se añaden las palabras clave en negrita.
    emph={MyClass,__init__}, % Se añaden las palabras clave enfatizadas.   
    % - Números de línea:
    numberstyle=\tiny\color{codegray}, % Tamaño de fuente y color de los números de línea.
    numbers=left, % Se colocan los números de línea en el lado izquierdo.                 
    numbersep=5pt, % Separación horizontal de los números de línea.
    % - Saltos a la línea, espacios, indentación:
    breaklines=true, % Permitir saltos a la línea. 
    breakatwhitespace=true, % Saltar a la línea únicamente al encontrar espacios.
    postbreak = \mbox{{$\hookrightarrow$}\space}, % Se añade una flecha al cambiar de línea.
    showspaces=false, % No mostrar los espacios. 
    showstringspaces=false, % No mostrar los espacios en los "string".
    keepspaces=true, % Mantener los espacios presentes en el código. 
    tabsize=2, % Tamaño de indentación.
    % - Título:
    captionpos=b % Posición del título del fragmento de código (b=bottom - abajo).
} 
\lstset{style=mystyle} % Se asocia el estilo de listings al estilo que acaba de definirse ("mystyle")

% Se realizan una serie de operaciones complementarias con el paquete listings (su comprensión no es necesaria para manejar dicho paquete):
\makeatletter
\def\lst@OpLiteratekey#1\@nil@{\let\lst@ifxopliterate\lst@if
                             \def\lst@opliterate{#1}}
\lst@Key{opliterate}{}{\@ifstar{\lst@true \lst@OpLiteratekey}
                             {\lst@false\lst@OpLiteratekey}#1\@nil@}
\lst@AddToHook{SelectCharTable}
    {\ifx\lst@opliterate\@empty\else
         \expandafter\lst@OpLiterate\lst@opliterate{}\relax\z@
     \fi}
\def\lst@OpLiterate#1#2#3{%
    \ifx\relax#2\@empty\else
        \lst@CArgX #1\relax\lst@CDef
            {}
            {\let\lst@next\@empty
             \lst@ifxopliterate
                \lst@ifmode \let\lst@next\lst@CArgEmpty \fi
             \fi
             \ifx\lst@next\@empty
                 \ifx\lst@OutputBox\@gobble\else
                   \lst@XPrintToken \let\lst@scanmode\lst@scan@m
                   \lst@token{#2}\lst@length#3\relax
                   \lst@XPrintToken
                 \fi
                 \let\lst@next\lst@CArgEmptyGobble
             \fi
             \lst@next}%
            \@empty
        \expandafter\lst@OpLiterate
    \fi}

\lstset{ 
    literate={á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
  {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
  {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
  {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {Ã}{{\~A}}1 {ã}{{\~a}}1 {Õ}{{\~O}}1 {õ}{{\~o}}1
  {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
  {ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
  {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
  {€}{{\euro}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
  {»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1
  {º}{{\textordmasculine}}1}

\lstset{opliterate=
   *{0}{{{\color{codered}0}}}1 {1}{{{\color{codered}1}}}1 
   {2}{{{\color{codered}2}}}1 {3}{{{\color{codered}3}}}1 
   {4}{{{\color{codered}4}}}1 {5}{{{\color{codered}5}}}1 
   {6}{{{\color{codered}6}}}1 {7}{{{\color{codered}7}}}1 
   {8}{{{\color{codered}8}}}1 {9}{{{\color{codered}9}}}1}

\DeclareCaptionType{code}[Código][ÍNDICE DE CÓDIGOS] % Se define el entorno "Código" (de forma que al introducir un fragmento de código en el documento aparezca como: Código 1.1: ...), y la lista con los distintos códigos ("Índice de códigos").
\counterwithin{code}{section} % Se numeran los códigos con respecto al capítulo en el que se encuentran.
% ---------------------------------------------- % 



% --------------- Bibliografía ----------------- %
% El manejo de la bibliografía se realiza mediante el paquete biblatex:
\usepackage[backend=biber, style=authoryear, sorting=nyt, citestyle=authoryear, maxcitenames=2, maxbibnames=5, giveninits=true, uniquename=init]{biblatex} 

% Los distintos parámetros que aparecen en la línea anterior corresponden a las siguientes características de la bibliografía:
% - style: la manera en la que aparecen las referencias en la bibliografía. En este caso se opta por "authoryear", pero existen múltiples estilos posibles que se resumen en la siguiente guía: https://www.overleaf.com/learn/latex/biblatex_bibliography_styles.
% - sorting: orden en el que aparecen las distintas referencias en la bibliografía. En este caso se opta por ordenarlas en primer lugar por el apellido del primer autor, en segundo lugar por el año de publicación, y por último por el título de la publicación (nyt=name-year-title)
% - citestyle: elementos y orden de dichos elementos de una referencia al citarla en el documento. En este caso se escoge "authoryear" para que aparezca en primer lugar el apellido del autor (o de los autores) y en segundo lugar el año de publicación. Existe gran variedad de opciones en cuanto al parámetro citestyle que se resumen en: https://www.overleaf.com/learn/latex/biblatex_citation_styles.
% maxcitenames: máximo número de autores que aparecen al citar una referencia en el documento. Al escoger un valor de 2 para este parámetro se pueden dar los siguientes casos: un único autor -> (autor, año), dos autores -> (autor 1 y/e autor 2, año), tres o más autores -> (autor 1 et al., año).
% maxbibnames: parámetro idéntico al anterior pero para la bibliografía en lugar de las citas.
% giveinits y uniquename: para mostrar únicamente las iniciales de los nombres de los autores.

% Se importa el paquete csquotes para citar las referencias a lo largo del documento:
\usepackage{csquotes} 

% Se realizan una serie de operaciones para adaptar la bibliografía al estilo deseado (coma entre autor y año al citar una referencia, idioma castellano, etc.):
\DeclareNameAlias{sortname}{family-given}
\renewcommand*{\nameyeardelim}{\addcomma\space}
\setlength\bibitemsep{\baselineskip}
\DefineBibliographyStrings{spanish}{%
  andothers = {et\addabbrvspace al\adddot}
}

\makeatletter

\newrobustcmd*{\parentexttrack}[1]{%
  \begingroup
  \blx@blxinit
  \blx@setsfcodes
  \blx@bibopenparen#1\blx@bibcloseparen
  \endgroup}

\AtEveryCite{%
  \let\parentext=\parentexttrack%
  \let\bibopenparen=\bibopenbracket%
  \let\bibcloseparen=\bibclosebracket}

\makeatother

\addbibresource{bibliografia.bib}
% ---------------------------------------------- % 


% ----------- Glosario y acrónimos ------------- %
% Para el glosario y los acrónimos, que aparezcan en el índice y que sean una subsubsección
\usepackage[section=subsubsection,acronym,toc]{glossaries}

\makeglossaries
\loadglsentries{glosario}
\loadglsentries{acronimos}

% ---------------------------------------------- %



%%%%%%%%%%%% - INICIO DEL DOCUMENTO - %%%%%%%%%%%%

\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%% - PORTADA - %%%%%%%%%%%%%%%%%%

% Se comienza una página nueva sin formato (sin número de página y sin encabezado/pie de página), ya que sólo incorpora la portada:
\newpage
\thispagestyle{empty}

% La portada se inserta mediante el comando \includepdf seguido del archivo PDF correspondiente (que se ajusta automáticamente a las dimensiones de la página):
\includepdf[landscape]{PORTADA_TFG_JAVIER_JIMENEZ_FERNANDEZ.pdf}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
% La página detrás de la portada va vacía
\blankpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% --------- Numeración primeras páginas -------- %
% Las páginas anteriores al contenido del TFG/TFM (previas a la introducción) suelen numerarse de forma distinta a las del cuerpo del informe, en este caso en números romanos:
\pagenumbering{roman}
% ---------------------------------------------- % 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%% - PORTADA CAR - %%%%%%%%%%%%%%%%

\newpage
\thispagestyle{empty}

%\includepdf{}
Aquí va la portada del CAR 

logotipos 

UPM

ETSII

GITI 

Logotipo del CAR 

TFG

Digital Twins con control telemático inmersivo mediante el uso de realidad virtual generada por NeRF y 3DGS en tareas de rescate

Autor: Javier Jiménez Fernández

Tutor Académico: Antonio Barrientos Cruz

Cotutor:  Christyan Mario Cruz Ulloa

Septiembre, 2024

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
% La página detrás de la portada del CAR va vacía
\afterpage{\blankpage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%% - CITA - %%%%%%%%%%%%%%%%%%%%%

% Se comienza una página nueva sin formato (sin número de página y sin encabezado/pie de página), ya que sólo incorpora la cita:
\newpage
\thispagestyle{empty}

\begin{flushright} % Se alinea el texto en el lado derecho de la página.
\vspace*{5cm} % Se añade un espacio vertical de 5cm para situar la cita en ~1/3 de la página.

\textit{“La cita del trabajo iría aquí”} 

\medskip % Salto a la línea de tamaño medio (existen \smallskip, \medskip y \bigskip)
- El autor de la cita 

\end{flushright}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
\afterpage{\blankpage} % Se añade una página en blanco después de la cita.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%% - AGRADECIMIENTOS - %%%%%%%%%%%%%%%%

% Se comienza una página nueva con formato plano (sin encabezado/pie de página pero con número de página):
\newpage
\thispagestyle{plain}

\section*{AGRADECIMIENTOS} % Se añade un asterisco a \section para que el título no esté numerado.
\addcontentsline{toc}{section}{AGRADECIMIENTOS} % Al utilizar \section* se ha de añadir manualmente el apartado al índice (Table Of Contents, TOC).

Agradezco a \dots

mi madre,
Mandy,
mi amigos,
compañeros de la universidad,
compañeros de trabajo,

Barrientos,
Chrystian,
David,
Jorge,

Fernando Rivas y Volinga

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
\afterpage{\blankpage} % Se añade una página en blanco después de los agradecimientos.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%% - RESUMEN EJECUTIVO - %%%%%%%%%%%%%

\newpage
\section*{RESUMEN EJECUTIVO} % Se añade un asterisco a \section para que el título no esté numerado.
\markright{RESUMEN EJECUTIVO} % Al utilizar \section* se ha de añadir manualmente el título del apartado al encabezado.
\addcontentsline{toc}{section}{RESUMEN EJECUTIVO} % Al utilizar \section* se ha de añadir manualmente el apartado al índice (Table Of Contents, TOC).



\subsection*{Palabras clave} % Se añade un asterisco a \section para que el título no esté numerado.
\addcontentsline{toc}{subsection}{Palabras clave} % Al utilizar \section* se ha de añadir manualmente el apartado al índice (Table Of Contents, TOC).

\subsection*{Códigos UNESCO}
\addcontentsline{toc}{subsection}{Códigos UNESCO} % Al utilizar \section* se ha de añadir manualmente el apartado al índice (Table Of Contents, TOC).

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
\afterpage{\blankpage} % Se añade una página en blanco después del resumen.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%% - ÍNDICE - %%%%%%%%%%%%%%%%%%%

\newpage

\renewcommand*\contentsname{ÍNDICE} % Se modifica el nombre por defecto de la "Table Of Contents" (tabla de contenidos, índice) para pasar a llamarla "ÍNDICE".

\tableofcontents % Se genera el índice de contenidos del documento que incorpora todos los títulos de \section, \subsection y \subsubsection (y también \paragraph, ver capítulo 1), así como los títulos añadidos con \addcontentsline (como el resumen ejecutivo, por ejemplo).

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
\afterpage{\blankpage} % Se añade una página en blanco después del índice.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%% - ÍNDICE DE TABLAS - %%%%%%%%%%%%%%

\newpage

\renewcommand{\listtablename}{ÍNDICE DE TABLAS} % Se define el nombre del índice de tablas.
\listoftables % Se genera automáticamente el índice con las distintas tablas del documento (entorno \table o \longtable).
\addcontentsline{toc}{section}{ÍNDICE DE TABLAS} % Se añade manualmente el apartado al índice (Table Of Contents, TOC).

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%% - ÍNDICE DE FIGURAS - %%%%%%%%%%%%%%

\newpage

\renewcommand{\listfigurename}{ÍNDICE DE FIGURAS} % Se define el nombre del índice de figuras.
\listoffigures % Se genera automáticamente el índice con las distintas figuras del documento (entorno \figure).
\addcontentsline{toc}{section}{ÍNDICE DE FIGURAS} % Se añade manualmente el apartado al índice (Table Of Contents, TOC).

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%% - ÍNDICE DE CÓDIGOS - %%%%%%%%%%%%%

\newpage

\listofcodes % Se genera automáticamente el índice con los distintos códigos del documento (entorno \code).
\addcontentsline{toc}{section}{ÍNDICE DE CÓDIGOS} % Se añade manualmente el apartado al índice (Table Of Contents, TOC).

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage
\afterpage{\blankpage} % Se añade una página en blanco después del índice de códigos.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% -------------- Numeración normal ------------- %
% Se inicia una nueva página, y se restablece la numeración de las páginas, utilizando esta vez el sistema de numeración estándar (1, 2, 3, 4, ...)
\newpage
\pagenumbering{arabic}
% ---------------------------------------------- % 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%% - INTRODUCCIÓN - %%%%%%%%%%%%%%%%

\newpage
\section{INTRODUCCIÓN} \label{sec:introduccion}

Como todo en la vida existe un desencadenante, una chispa, un comienzo

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%% - ESTADO DEL ARTE - %%%%%%%%%%%%%%%

\newpage
\section{ESTADO DEL ARTE} \label{sec:estado_del_arte}

La tecnología de \gls{renderizado} de \glspl{radiancefield} en tiempo real ha dado un salto importante en los últimos 2 años generando multitud de áreas de investigación e implementaciones que sorprenden por el realismo de los objetos y entornos generados.

Según las publicaciones en papers como \acrfull{nerf} o \acrfull{3dgs} a partir de vídeo o imágenes tomadas por un dispositivo cualquiera, una \gls{redneuronal} es capaz de generar un modelo \acrshort{3d} realista del objeto o entorno filmado o fotografiado en un tiempo reducido de segundos. La inmediatez mencionada no siempre es operativamente cierta como veremos más adelante.

%hablar de la historia de neural radiante fields (NeRF) y como era un concepto teórico que no había sido posible implementar en todo su potencial.

%Contar un poco también de las movidas que conté en mi presentación del año pasado

En enero de 2022 se publica un artículo
%hablar de NVIDIA instant-ngp

%hablar de como se ve su potencial en audiovisuales pero en realidad surge de un entorno cientifico

%casos en los que se usa, hablar del congreso de NVIDIA y de las últimas tendencias

%acercamiento a esta tecnología para digital twins

%hablar de gaussian splatting



% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%% - OBJETIVOS - %%%%%%%%%%%%%%%%%%

\newpage
\section{OBJETIVOS} \label{sec:objetivos}

Los modelos \acrshort{3d} de la realidad en los que se simulan los \glspl{digitaltwin} deben ser copias lo más fiables posibles del entorno en el que trabajan los robots. 

El objeto de este trabajo es, por un lado, la creación de modelos \acrshort{3d} más realistas que los generados por \gls{fotogrametria} actualmente, especialmente mejorando la resolución y la interpretación de superficies transparentes o reflectantes. 

Para ello se hará uso de nuevas tecnologías en generación de entornos \acrshort{3d}, como \acrfull{nerf} o \acrfull{3dgs}.

Por otro lado, también es objeto del presente trabajo ensayar su robustez y el tiempo de despliegue de la tecnología en situaciones de aplicación realistas así como la compatibilidad con las líneas de investigación actuales del laboratorio \acrshort{robcib} del \acrshort{car} \acrshort{upm}-\acrshort{csic}.

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%% - HERRAMIENTAS UTILIZADAS - %%%%%%%%%%

\newpage
\section{HERRAMIENTAS UTILIZADAS} \label{sec:herramientas}

% -------- Neural Radiance Fields (NeRF) ------- %
\subsection{Neural Radiance Fields (NeRF)} \label{sec:herramientas:nerf}
% https://radiancefields.com/

\subsubsection{instant-ngp} \label{sec:herramientas:nerf:instant-ngp}
% https://nvlabs.github.io/instant-ngp/
% https://github.com/NVlabs/instant-ngp
% https://developer.nvidia.com/blog/getting-started-with-nvidia-instant-nerfs/

\subsubsection{nerfstudio} \label{sec:herramientas:nerf:nerfstudio}
% https://docs.nerf.studio/
% ---------------------------------------------- %


% -------- 3D Gaussian Splatting (3DGS) -------- %
\subsection{3D Gaussian Splatting (3DGS)} \label{sec:herramientas:3dgs}
% https://repo-sam.inria.fr/fungraph/3d-gaussian-splatting/

\subsubsection{nerfstudio} \label{sec:herramientas:3dgs:nerfstudio}
% ---------------------------------------------- %


% ------------- Unreal Engine (UE) ------------- %
\subsection{Unreal Engine (UE)} \label{sec:herramientas:ue}
% ---------------------------------------------- %


% ------------------ Volinga ------------------- %
\subsection{Volinga} \label{sec:herramientas:volinga}
% https://docs.nerf.studio/extensions/unreal_engine.html
% https://volinga.ai/
% https://github.com/Volinga/volinga-model
% ---------------------------------------------- %


% ----------------- VirtualBox ----------------- %
\subsection{VirtualBox} \label{sec:herramientas:virtualbox}
% ---------------------------------------------- %


% -------- Robot Operating System (ROS) -------- %
\subsection{Robot Operating System (ROS)} \label{sec:herramientas:ros}
% ---------------------------------------------- %


% --------------- ROSIntegration --------------- %
\subsection{ROSIntegration} \label{sec:herramientas:rosintegration}
% ---------------------------------------------- %


% ------------------ Blender ------------------- %
\subsection{Blender} \label{sec:herramientas:blender}
% ---------------------------------------------- %


% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%% - IMPLEMENTACIÓN - %%%%%%%%%%%%%%%

\newpage
\section{IMPLEMENTACIÓN} \label{sec:implementacion}

% Hacer breve resumen de la implementacion

% crear subsecciones

% ir en orden de cómo fui haciendo las cosas y contar lo más importante de mi desarrollo

% hacer referencia a los manuales (publicarlos en github?)

Para empezar se probará la tecnología que hizo comenzar el presente trabajo: \gls{instant-ngp}.

\gls{instant-ngp} desarrollado por NVIDIA pero una vez generado el modelo 3D como nube de puntos la exportación a un entorno gráfico 3D como Unity o Unreal Engine se hace perdiendo demasiada información (perdemos las mejoras que ganábamos con esta nueva tecnología).

Se prueba NerfStudio en conjunto con Volinga Suite para generar una nube de puntos exportable a Unreal Engine 5 con resultado satisfactorio. Aunque tiene las siguientes pegas:

\begin{itemize}
\item La nube de puntos no interactúa físicamente con los Actores del juego (por ejemplo, el robot), es como si fuera una bruma, se puede atravesar.

\item La integración con la realidad virtual no está optimizada, se puede ver con gafas de realidad virtual, pero se ve doble.
\end{itemize}

Se decide seguir adelante con la segunda opción: NerfStudio+Volinga.

\subsection{Instant-ngp de NVIDIA}

Requiere un entorno con paquete de desarrollo de motor gráfico Cuda 11.8 y toda la configuración que ello conlleva. Se decide crear el entorno en Ubuntu 18.04 por compatibilidad con ROS y lo ya desarrollado hasta el momento en el laboratorio.

Se agregan todos los programas y librerías de dependencias para la instalación de Cuda así como todos los requisitos posteriores a la instalación como por ejemplo la prueba de los cuda-samples para verificar su correcto funcionamiento.

Además, para la interpretación de la fotogrametría que incluye el flujo de trabajo de instant-ngp en su aplicación de Python es necesario un programa externo por ejemplo Colmap y ffmpeg. Se instalan y agregan sus dependencias.

Por último, se descarga el código fuente de instant-ngp del GitHub de NVIDIA Labs que es open source. Una vez compilado e instaladas las dependencias ya está listo para usar.

Para más detalle sobre la instalación ver anexos de configuración del entorno.

Una vez configurado se puede lanzar el script de Python que transforma el vídeo directamente en su modelo 3D. Este hace uso de Colmap y ffmpeg para extraer fotogramas del vídeo formando un dataset y generar la fotogrametría de dicho dataset de imágenes. Esta información de fotogrametría junto con las imágenes es el input de la red neuronal que en segundos (entre 30 segundos y un minuto) es capaz de generar un modelo 3D de alta fidelidad del objeto o entorno de estudio.

Por desgracia la generación de la fotogrametría es muy costosa y requiere de largos tiempos dependiendo de la cantidad de imágenes a tratar.

La herramienta de instant-ngp de NVIDIA tiene un visor para observar los resultados de entrenamiento de la red en tiempo real y ver cómo la imagen 3D se va generando. Una vez obtenido un resultado aceptable el entrenamiento se puede detener y perfilar, recortando la parte deseada, por ejemplo. Además, se puede usar el visualizador para comprobar la calidad del dataset y generar uno nuevo si fuera necesario.

Moverse por dentro del entorno 3D para observar el objeto desde diferentes ángulos requiere mucha potencia de computación y no es muy cómodo debido a la lentitud de nuestro sistema. Aun así se comprueba que el modelo generado es de gran calidad y extremadamente realista. Tampoco tiene problemas para representar superficies reflectantes o transparentes.

Una vez seleccionada un área de recorte (que puede incluir al modelo entero) se puede exportar el resultado en forma de objeto sólido o mesh interpretable por la mayoría de los motores gráficos del mercado.

Este mesh está formado por vértices unidos mediante triángulos. Los dos principales problemas de este tipo de exportación de objeto sólido son:

\begin{itemize}
\item La resolución máxima a la que se puede exportar el objeto, es decir, el número máximo de vértices que contiene. Ésta viene limitada por la capacidad de procesamiento la unidad gráfica de nuestro ordenador.

\item La pérdida de la propiedad del color. El estándar archivo generado de tipo .obj no contiene información de color sólo de la posición de los vértices. Aunque el archivo generado por instant-ngp sí contiene información sobre el color, ésta sólo es interpretada por algunos motores gráficos como MeshLab, pero no por la mayoría ni por los que se usan en el desarrollo de aplicaciones de robótica.
\end{itemize}

Por tanto, cuando tratamos de exportar este mesh por ejemplo a Unity lo veremos blanco y en baja resolución. Para objetos individuales se puede alcanzar una resolución aceptable, pero para un entorno como una habitación o una zona exterior la pérdida de información se multiplica y se convierte en aceptable, generándose volúmenes que poco se parecen a la realidad.

Se intenta la exportación de la nube de puntos de forma directa, pero genera incompatibilidad de interpretación con los motores gráficos conocidos y se deshecha la idea.

Dado que en la exportación se pierde todo su potencial y en la práctica no supone una mejora real con respecto a otros modelos que usaban fotogrametría anteriormente se descarta el uso de instant-ngp como ayuda a la generación de entornos 3D para el entrenamiento de robots mediante la tecnología de Digital Twins.

\subsection{NerfStudio + Volinga}

Para integrar esta opción se elige en un primer momento aprovechar el entorno ya configurado para instant-nerfs en Ubuntu 18.04. Siguiendo la guía de NerfStudio se consigue generar un resultado similar al de instant-nerfs a partir del mismo input. Por ahora la gran diferencia está en el visualizador web de NerfStudio que es mucho más cómodo y amable con el usuario que el visualizador de instant-ngp.

Para su exportación a Unreal Engine se pide una clave de acceso anticipada para investigación en Volinga Suite. A través de su aplicación web se genera el objeto de tipo .nvol compatible con Unreal Engine. Volinga Suite sólo es compatible con Unreal Engine a partir de la versión 5.0 (UE5), esto será problemático en ciertos momentos en la integración de Unreal Engine con ROS.

Para la instalación de UE5 en Ubuntu es necesaria la descarga y compilación del código fuente de la aplicación. Se pide acceso al panel de desarrolladores de Unreal Engine en la zona de registro de

organizaciones de GitHub. Una vez concedido se descarga el código fuente y se genera el entorno de trabajo para UE5.

El motor de UE5 requiere de una versión mínima de Ubuntu 20.04. por lo que debemos generar de nuevo todo el entorno con la instalación de Cuda 11.8 y las herramientas necesarias para que funcione NerfStudio como Colmap y ffmpeg.

Lamentablemente Cuda 11.8 ya no es compatible con con Ubuntu 20.04. La versión mínima compatible de los drivers de NVIDIA con Ubuntu 20.04. es la 525, y Cuda 11.8 requiere de los drivers 520. Por tanto, se decide que, por el momento, el entrenamiento de la red con NerfStudio se haga en Ubuntu 18.04., mientras que la instalación de UE5 se hará en la nueva partición que hemos creado para Ubuntu 20.04.

Es necesario instalar el plugin de Volinga en UE5 a fin de que éste interprete el objeto de tipo .nvol generado por la aplicación web de Volinga. Pero Volinga no soporta un entorno Linux, así que debemos instalar UE5 en Windows.

Con el plugin de Volinga instalado en UE5 se puede arrastrar directamente el objeto y visualizar un modelo 3D muy similar al que se genera en la red neuronal original de NerfStudio previo al paso por la aplicación web de Volinga. Hay una cierta pérdida de resolución debida a la optimización del objeto para ser renderizado en un motor de videojuegos, pero la consideramos aceptable y supone igualmente una mejora enorme en cuanto a realismo con tecnologías previas.

El único problema es el consumo de recursos de UE5, hace que la simulación con el ordenador vaya lenta y no es cómodo.

Una vez tenemos esto intentamos la conexión con ROS, que para Unreal Engine se lleva a cabo con una herramienta desarrollada por el Institute for Artificial Intelligence de la University of Bremen llamada ROSIntegration. Esta herramienta está diseñada en forma de plugin para Unreal Engine 4, pero dicho plugin se puede recompilar en un proyecto de UE5 en C++ para que funcione correctamente en éste.

Para la comunicación con los robots se utiliza ROS, que es el estándar para aplicaciones de robótica. ROS está optimizado para funcionar en Ubuntu y su instalación en Windows es problemática, es por ello que para permitir la comunicación entre UE5 y ROS instalaremos Ubuntu 20.04. en una máquina vitual del VirtualBox 7 y realizaremos la conexión con el host de Windows mediante SSH. La conexión SSH se hace por defecto a través del puerto 22 de la máquina virtual, pero para no usar un puerto reservado la realizaremos a través de un puerto no reservado (entre el 1024 y el 65536) por ejemplo el puerto 2222.

Para que funcione la conexión con ROS debemos instalar ROSBridge en nuestra máquina virtual y habilitar otro puerto para la conexión con el host de Windows. Se usa por convenio el puerto 9090. Debe lanzarse ROSBridge con una configuración específica para funcionar con ROSIntegration. Una vez establecida la conexión podemos publicar y suscribirnos a los topics o services de ROS que queramos a ambos lados de la conexión.

Comprobamos que la comunicación entre ROS y UE5 a través de ROSBridge y ROSIntegration funciona correctamente.

Por desgracia ROSIntegration sólo tiene implementada la suscripción a los mensajes estándar de ROS,

TBD:

A continuación, hablar de ROSIntegration e incompatibilidad, cómo hacer los topic y si se pueden modificar

Hablar de los problemas generando la fotogrametría con colmap (es muuy puñetero)

Ver si se puede probar a usar algo de luma labs en el iphone de alguien para que la fotogrametría venga hecha de “fábrica”

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%% - RESULTADOS Y DISCUSIÓN - %%%%%%%%%%%

\newpage
\section{RESULTADOS Y DISCUSIÓN} \label{sec:resultados_y_discusion}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%% - CONCLUSIONES - %%%%%%%%%%%%%%%%

\newpage
\section{CONCLUSIONES} \label{sec:conclusiones}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%% - LÍNEAS FUTURAS - %%%%%%%%%%%%%%%

\newpage
\section{LÍNEAS FUTURAS} \label{sec:lineas_futuras}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%% - BIBLIOGRAFÍA - %%%%%%%%%%%%%%%%

\newpage
\section*{BIBLIOGRAFÍA}
\addcontentsline{toc}{section}{BIBLIOGRAFÍA} % Al utilizar \section* se ha de añadir manualmente el apartado al índice (Table Of Contents, TOC).

% Se genera la bibliografía mediante el comando \printbibliography (en ella aparecen únicamente las referencias citadas a lo largo del documento):
\appto{\bibsetup}{\sloppy}
\printbibliography[heading=bibintoc, title=BIBLIOGRAFÍA] % el argumento "title" puede modificarse indicando el título que convenga (bibliografía, referencias, etc.).

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%








%%%%%%%%%%%%%%%%%%% - ANEXOS - %%%%%%%%%%%%%%%%%%%
% FALTA NUMERARLOS Y PONER LOS TÍTULOS EN MINÚSCULAS
% (los índices de tablas, figuras y códigos son anexos y diría que las licencias también)

\newpage

\section*{ANEXOS} \label{sec:anexos} % Se añade un asterisco a \section para que el título no esté numerado.
\addcontentsline{toc}{section}{ANEXOS} % Al utilizar \section* se ha de añadir manualmente el apartado al índice (Table Of Contents, TOC).
\markright{ANEXOS} % Al utilizar \section* se ha de añadir manualmente el título del apartado al encabezado.

\renewcommand{\thesubsection}{\Alph{subsection}} % Se numeran los anexos con letras del alphabeto en lugar de números.
% Se indica que las tablas, figuras y códigos se numeran con el código del anexo (A, B, C, ...) seguido del número de tabla, figura o código dentro del anexo (tabla A.2, figura C.1, etc.)
\renewcommand{\thetable}{\Alph{subsection}.\arabic{table}}
\renewcommand{\thefigure}{\Alph{subsection}.\arabic{figure}}
\renewcommand{\thecode}{\Alph{subsection}.\arabic{code}}

% ---------------- Primer anexo ---------------- %
%%%%%%%%%%% - EVALUACIÓN DE IMPACTOS - %%%%%%%%%%%

\subsection{Anexo I: Evaluación de impactos} \label{sec:anexo1}
\subsubsection{Impacto ambiental} \label{sec:anexo1:ambiental}
\subsubsection{Impacto social} \label{sec:anexo1:social}
\subsubsection{Impacto ético} \label{sec:anexo1:etico}
\subsubsection{Impacto legal} \label{sec:anexo1:legal}
\subsubsection{Contribución a los Objetivos de Desarrollo Sostenible (ODS)} \label{sec:ods}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ---------------------------------------------- %


% ---------------- Segundo anexo --------------- %
%%% - PLANIFICACIÓN TEMPORAL Y PRESUPUESTOS - %%%%

\newpage
\subsection{Anexo II: Planificación temporal y presupuestos} \label{sec:anexo2}
\subsubsection{Planificación temporal} \label{sec:anexo2:temporal}
\subsubsection{Presupuestos} \label{sec:anexo2:presupuestos}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ---------------------------------------------- %


% ---------------- Tercer anexo ---------------- %
%%%%%%%%%%%% - GLOSARIO Y ACRÓNIMOS - %%%%%%%%%%%%

\newpage
\subsection{Anexo III: Glosario y acrónimos} \label{sec:anexo3}

\glsaddall

% Hacer más grande el tamaño del título de la subsubseccion glosario y acronimos
%\renewcommand{\subsubsectionsize}{\large}

\printglossary[title=Glosario, toctitle=Glosario]

\printglossary[type=\acronymtype, title=Acrónimos, toctitle=Acrónimos]

%\renewcommand{\subsubsectionsize}{\normal}

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ---------------------------------------------- %


% ---------------- Cuarto anexo ---------------- %
%%%%%%%%%%%%%%%%% - LICENCIAS - %%%%%%%%%%%%%%%%%%

\newpage
\subsection{Anexo IV: Licencias} \label{sec:anexo4}

\begin{wrapfigure}{L}{0.21\textwidth}
    \vspace{-\baselineskip}
    \href{http://creativecommons.org/licenses/by/4.0/}{\includegraphics[width=0.22\textwidth]{cc-by.png}}
\end{wrapfigure} 

\vspace*{\fill}
``Plantilla en LaTeX acorde con la Normativa para la elaboración de informes de TFT de la ETSII (UPM)" \ by Javier Soto Pérez-Olivares is licensed under a \href{http://creativecommons.org/licenses/by/4.0/}{Creative Commons Attribution 4.0 International License}.

% Termina la página actual y hace que se impriman todas las figuras y tablas que han aparecido hasta ahora en la entrada:
\clearpage

% ---------------------------------------------- % 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ---------------------------------------------- %


%%%%%%%%%%%%%% - FIN DEL DOCUMENTO - %%%%%%%%%%%%%

\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%